<html>
<head>
    <title>Test Page for File-based Gadget Configuration</title>
    <script language="javascript" src="jsunit/app/jsUnitCore.js"></script>
    <script language="javascript" src="../code/main.js"></script>
</head>

<body>
<script language="javascript">
    function testShouldLoadContentFromFile() {
        var testContent = "TEST_CONTENT";
        framework = new Object();
        framework.system = new Object();
        framework.system.filesystem = new Object();
        framework.system.filesystem.OpenTextFile = function(filename, mode) {
            var file = new Object();
            file.ReadAll = function() {
                return testContent;
            }
            return file;
        }
        var testConfig = new FileBasedConfig('ccmon.test.properties');
        assertEquals(testContent, testConfig.rawText);
    }

</script>
</body>
</html>